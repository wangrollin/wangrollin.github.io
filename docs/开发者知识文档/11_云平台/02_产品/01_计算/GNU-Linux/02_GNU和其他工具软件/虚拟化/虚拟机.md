# 虚拟机

## 什么是虚拟机

### 模拟与仿真(emulation and simulation)

问：在虚拟机的领域，常听到两个词：“模拟”、“仿真”，它们有什么区别呢？

答：这个问题问得很有水平，因为很多从业者也没有弄清楚。我们从英文来讲，模拟的英文是emulation，它在虚拟机领域里面，指的是对于黑盒子外部接口的实现；而仿真的英文是simulation，它指的是对于一个事物内部细节的模仿。

- 按照黑盒子的实现来实现黑盒子，并对外提供接口，那么你同时进行了仿真和模拟。你这个黑盒子的实现，就既是仿真器也是模拟器。
- 不按照黑盒子的实现来实现黑盒子，那么你就是进行了模拟，你这个黑盒子的实现，就是一个模拟器，而不是一个仿真器。
- 按照黑盒子的实现来实现黑盒子，但不对外提供接口，那么你只进行了仿真。你这个黑盒子的实现，只是仿真器。

谈到仿真器的时候，它都是既实现接口，又实现细节的。也就是说，一个仿真器一定是一个模拟器。

仿真是一群器件的模拟，模拟是对于一个器件的仿真

虚拟机的核心概念：对于抽象接口的**模拟**。虚拟机是一种模拟器。

### 解释和翻译（intepret and translate）

解释和翻译用于转换guest ISA和host ISA上。解释指的是逐句执行guest ISA，翻译指的是按照一个语义块（比如基本块basic block）来转变为host ISA的代码。


